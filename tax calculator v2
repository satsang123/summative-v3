/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package SummativeProject;

import javax.swing.JOptionPane;

/**
 *
 * @author Satsang Adhikari
 */
public class Tax_Calculator extends javax.swing.JFrame {
    //I made this string so that when user selects an item/service from the category box it outputs the tax rate of the corresponding item/service
    /*this list follows the order that is in the category so when user selects for example the fifth item it reads out 
    the tax rate for that
    */
    //I use the position of the values in the string to do the above task
        String [] tax_rate = {
            "HST Tax Rate: ",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 5%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: No TAX",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: No TAX",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 5%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 5%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: No TAX",
            "HST Tax Rate: 13%",
            "HST Tax Rate: No TAX",
            "HST Tax Rate: No TAX",
            "HST Tax Rate: No TAX",
            "HST Tax Rate: 13%",
            "HST Tax Rate: No TAX",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: No TAX",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: No TAX",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%",
            "HST Tax Rate: 13%"
        };
    /**
     * Creates new form Tax_Calculator
     */
    public Tax_Calculator() {
        initComponents();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">                          
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        category = new javax.swing.JComboBox<>();
        taxRate = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        inputCost = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        outputCost = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jLabel6 = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        jPanel1.setBorder(javax.swing.BorderFactory.createEtchedBorder(javax.swing.border.EtchedBorder.RAISED, new java.awt.Color(153, 255, 153), null));
        jPanel1.setToolTipText("");

        jLabel1.setFont(new java.awt.Font("Felix Titling", 1, 36)); // NOI18N
        jLabel1.setText("HST TAX Calculator OTTAWA");

        jLabel2.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel2.setText("Category of Item/Service:");

        category.setBackground(new java.awt.Color(240, 240, 240));
        category.setFont(new java.awt.Font("Tahoma", 1, 13)); // NOI18N
        category.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "Select...", "Adult Clothing", "Children's Clothing and Diapers", "Tailoring Services", "Dry Cleaning Services", "Groceries", "Snack Foods", "Alcoholic Beverages", "Home Phone Services", "Cell Phone Services", "Internet Services", "Electricity and Heating", "Appliance Repair Services", "Luggage, Bags", "Public Transit (OC Transpo, O Train)", "Hotel Rooms", "Taxi", "Cleaning Products", "Furnitures", "Books", "Office supplies", "Tools", "Pet food", "Vehicle Parts", "Child car seats/ booster seats", "Oil Change/Tires", "Gasoline", "Pharmacist Dispensing", "Over the counter medications", "Prescription Drugs", "Prescription Glasses", "Dental Services", "Dental Hygiene products", "Female Hygiene products", "Hair Care Products", "Massage therapy services", "Movie tickets", "Music lessons for any instrument", "Ballet, Karate, Soccer, Hockey lessons", "Electronic products (TV, Computer, Printer)", "Child Care Services", "Funeral Services", "Fitness Trainer", "Barber" }));
        category.setBorder(new javax.swing.border.MatteBorder(null));
        category.setCursor(new java.awt.Cursor(java.awt.Cursor.HAND_CURSOR));
        category.setMinimumSize(new java.awt.Dimension(292, 30));
        category.setPreferredSize(new java.awt.Dimension(292, 30));
        category.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                categoryItemStateChanged(evt);
            }
        });
        category.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                categoryActionPerformed(evt);
            }
        });

        taxRate.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        taxRate.setText("HST Tax Rate: ");

        jLabel3.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel3.setText("Enter Cost:");

        inputCost.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        inputCost.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                inputCostActionPerformed(evt);
            }
        });

        jLabel4.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel4.setText("Total Cost after Tax:");

        outputCost.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        outputCost.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                outputCostActionPerformed(evt);
            }
        });

        jLabel5.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        jLabel5.setText("$");

        jLabel6.setFont(new java.awt.Font("Tahoma", 0, 24)); // NOI18N
        jLabel6.setText("$");

        jButton1.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jButton1.setText("Calculate");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jButton2.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jButton2.setText("Reset");
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 207, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(315, 315, 315))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addComponent(category, javax.swing.GroupLayout.PREFERRED_SIZE, 315, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(270, 270, 270))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 148, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(taxRate, javax.swing.GroupLayout.PREFERRED_SIZE, 168, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(341, 341, 341))))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(84, 84, 84)
                        .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel1)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(inputCost, javax.swing.GroupLayout.PREFERRED_SIZE, 172, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 130, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                                        .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 17, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addComponent(outputCost, javax.swing.GroupLayout.PREFERRED_SIZE, 174, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                                        .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 147, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(19, 19, 19))))))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(379, 379, 379)
                        .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 89, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(121, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 56, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(39, 39, 39)
                .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(category, javax.swing.GroupLayout.PREFERRED_SIZE, 58, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(taxRate, javax.swing.GroupLayout.PREFERRED_SIZE, 44, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(18, 18, 18)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 27, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(inputCost, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(outputCost))
                        .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 118, Short.MAX_VALUE)
                        .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(30, 30, 30))))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        pack();
    }// </editor-fold>                        

    private void categoryItemStateChanged(java.awt.event.ItemEvent evt) {                                          
        //here is the part that reads which item/service user selected and gets the value from the string taxrate corresponding to that item
        int position = category.getSelectedIndex();

        taxRate.setText(tax_rate[position]);

    }                                         

    private void categoryActionPerformed(java.awt.event.ActionEvent evt) {                                         
        // TODO add your handling code here:
    }                                        

    private void inputCostActionPerformed(java.awt.event.ActionEvent evt) {                                          

    }                                         

    private void outputCostActionPerformed(java.awt.event.ActionEvent evt) {                                           
        // TODO add your handling code here:
    }                                          
    //check for negative input 
    private boolean errorInCalculation (String toDouble) {
        double checkForNegative;
        try {
            checkForNegative = Double.parseDouble(toDouble);
            if (checkForNegative > 0) {
                return false;
            }
        } catch (Exception e) {
            return true;
        }  
        return true;
    }
    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         
        /*set up so that if user does not select from the category, and/or does not input anything, and/or gives
        negative input, it opens up this error message
        */

        if (category.getSelectedIndex()==0 || inputCost.getText().equals("") || errorInCalculation(inputCost.getText())) {

            JOptionPane.showMessageDialog(null,
                "MAKE SURE YOU SELECTED A CATEGORY AND GIVE VALID INPUT FOR COST","Error!",
                JOptionPane.ERROR_MESSAGE
            );
            return;
        }

        //here is where the tax calculation occurs behind the scenes

        // since there are only 3 scenarios for tax rate I figured it would be wise to categorize them into different types of tax

        double tax1 = 1.13;  //13% tax
        double tax2 = 1.05;  //5% tax
        double tax3 = 1.00;  //No tax
        double total = 0;

        //getting input provided by user in the textfield
        double userInputCost = Double.parseDouble(inputCost.getText());

        switch (category.getSelectedItem().toString()) {

            /* data collected from the Ontario government website on taxes applied to items/services
            https://www.fin.gov.on.ca/en/tax/hst/whatstaxable.html#two
            */

            case "Adult Clothing": total = userInputCost * tax1; break;
            case "Children's Clothing and Diapers": total = userInputCost * tax2; break;
            case "Tailoring Services": total = userInputCost * tax1; break;
            case "Dry Cleaning Services": total = userInputCost * tax1; break;
            case "Groceries": total = userInputCost * tax3; break;
            case "Snack Foods": total = userInputCost * tax1; break;
            case "Alcoholic Beverages": total = userInputCost * tax1; break;
            case "Home Phone Services": total = userInputCost * tax1; break;
            case "Cell Phone Services": total = userInputCost * tax1; break;
            case "Internet Services": total = userInputCost * tax1; break;
            case "Electricity and Heating": total = userInputCost * tax1; break;
            case "Appliance Repair Services": total = userInputCost * tax1; break;
            case "Luggage, Bags": total = userInputCost * tax1; break;
            case "Public Transit (OC Transpo, O Train)": total = userInputCost * tax3; break;
            case "Hotel Rooms": total = userInputCost * tax1; break;
            case "Taxi": total = userInputCost * tax1; break;
            case "Cleaning Products": total = userInputCost * tax1; break;
            case "Furnitures": total = userInputCost * tax1; break;
            case "Books": total = userInputCost * tax2; break;
            case "Office supplies": total = userInputCost * tax1; break;
            case "Tools": total = userInputCost * tax1; break;
            case "Pet food": total = userInputCost * tax1; break;
            case "Vehicle Parts": total = userInputCost * tax1; break;
            case "Child car seats/ booster seats": total = userInputCost * tax2; break;
            case "Oil Change/Tires": total = userInputCost * tax1; break;
            case "Gasoline": total = userInputCost * tax1; break;
            case "Pharmacist Dispensing": total = userInputCost * tax3; break;
            case "Over the counter medications": total = userInputCost * tax1; break;
            case "Prescription Drugs": total = userInputCost * tax3; break;
            case "Prescription Glasses": total = userInputCost * tax3; break;
            case "Dental Services": total = userInputCost * tax3; break;
            case "Dental Hygiene products": total = userInputCost * tax1; break;
            case "Female Hygiene products": total = userInputCost * tax3; break;
            case "Hair Care Products": total = userInputCost * tax1; break;
            case "Massage therapy services": total = userInputCost * tax1; break;
            case "Movie tickets": total = userInputCost * tax1; break;
            case "Music lessons for any instrument": total = userInputCost * tax3; break;
            case "Ballet, Karate, Soccer, Hockey lessons": total = userInputCost * tax1; break;
            case "Electronic products (TV, Computer, Printer)": total = userInputCost * tax1; break;
            case "Child Care Services": total = userInputCost * tax3; break;
            case "Funeral Services": total = userInputCost * tax1; break;
            case "Fitness Trainer": total = userInputCost * tax1; break;
            case "Barber": total = userInputCost * tax1; break;
        }

        //output final cost after tax
        String value = String.format("%.2f", total);
        outputCost.setText(value);

    }                                        

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         
        //reset all fields

        category.setSelectedIndex(0);
        inputCost.setText(null);
        outputCost.setText(null);
        taxRate.setText("HST Tax Rate: ");

    }                                        

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Tax_Calculator.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Tax_Calculator.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Tax_Calculator.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Tax_Calculator.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Tax_Calculator().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify                     
    private javax.swing.JComboBox<String> category;
    private javax.swing.JTextField inputCost;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JTextField outputCost;
    private javax.swing.JLabel taxRate;
    // End of variables declaration                   
}
